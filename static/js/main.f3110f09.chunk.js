(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(30)},,,,,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=(a(15),a(4)),s=a(1),l=a(2),u=a(5),h=a(3),d=a(6),m=(a(17),a(18),a(20),function(e){return"https://openweathermap.org/img/w/".concat(e,".png")}),p=function(e){var t,a=function(e){for(var t,a,n=0;n<e.length;n++)(e[n].main.temp_min<t||!t)&&(t=e[n].main.temp_min),(e[n].main.temp_max>a||!a)&&(a=e[n].main.temp_max);return[Math.round(t),Math.round(a)]}(e.day.hours),n=Object(i.a)(a,2),o=n[0],c=n[1];return r.a.createElement("div",{className:"weather-card"},r.a.createElement("div",{className:"weather-card-item day"},(t=e.day.hours[0].dt,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(1e3*t).getDay()])),r.a.createElement("div",{className:"weather-card-item icon"},r.a.createElement("img",{src:function(e){var t=Math.round(e.length/2);return m(e[t].weather[0].icon)}(e.day.hours),height:"40"})),r.a.createElement("div",{className:"weather-card-item hilow"}," ",r.a.createElement("span",null," ",r.a.createElement("strong",null,c)," ")," ",r.a.createElement("span",null,o)," "),r.a.createElement("div",{className:"weather-card-item"},"  "))},f=(a(22),function(e){var t=e.weather,a=t.main,n=t.weather;return r.a.createElement("div",{className:"weather-now"},r.a.createElement("div",null,n[0].description),r.a.createElement("div",{className:"degrees"},Math.round(a.temp),"\xb0"))}),w=a(9),g=(a(24),function(e){return r.a.createElement("div",{className:"mini-weather"},r.a.createElement("div",null,((a=(a=e.weather.dt_txt).split(" ")[1].split(":")[0])>12&&(a-=12,a+="PM"),0==a?(a=12,a+="AM"):a<12&&(a+="AM"),12==a&&(a+="PM"),a.replace("0",""))),r.a.createElement("div",null," ",r.a.createElement("img",{src:(t=e.weather.weather[0].icon,"http://openweathermap.org/img/w/".concat(t,".png"))})," "),r.a.createElement("div",null," ",Math.round(e.weather.main.temp),"\xb0 "));var t,a}),v=(a(26),function(e){var t=function(e){var t=e[0].hours;if(9===t.length)return t;for(var a=[],n=0;n<9-t.length;n++)a.push(e[1].hours[n]);return Object(w.a)(t).concat(a)}(e.weather);return r.a.createElement("div",{className:"upcoming-weather"},t.map(function(e){return r.a.createElement(g,{key:e.dt,weather:e})}))}),y=(a(28),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).enterKey=function(e){13===e.keyCode&&a.props.getWeatherData(null,null,a.state.search)},a.getForecasts=function(){for(var e,t=a.props.weather.forecast,n=[],r=0;r<t.length;r++){var o=a.dateOnly(t[r].dt_txt);if(e!==o){e=o;n.push({hours:[]})}o===e&&n[n.length-1].hours.push(t[r])}a.setState({forecasts:n})},a.dateOnly=function(e){return(e=e.split(" "))[0]},a.handleClick=function(e){a.setState({day:a.state.day+Number(e.target.name)})},a.handleChange=function(e){a.setState({search:e.target.value})},a.state={search:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.enterKey,!1)}},{key:"componentDidUpdate",value:function(e,t){this.props.weather!==e.weather&&this.getForecasts()}},{key:"getWeatherBackground",value:function(e,t){var a;return e&&(a=["Thunderstorm","Drizzle","Rain","Atmosphere"].includes(e)?"Rain":e),t&&(t.includes("n")?a+=" night":a+=" day"),a&&(a=a.toLowerCase()),a}},{key:"render",value:function(){return r.a.createElement("div",{className:"weather-wrapper "+this.getWeatherBackground(this.props.groupId,this.props.icon)},!this.state.forecasts&&r.a.createElement("div",{style:{color:"black"}},"Allow access to location, to get weather from location, or use the search..."),r.a.createElement("div",{className:"location-name"}," ",this.props.location," "),r.a.createElement("input",{type:"text",placeholder:"ex: England,uk",value:this.state.search,onChange:this.handleChange}),this.state.forecasts&&r.a.createElement(f,{weather:this.state.forecasts[0].hours[0]}),this.state.forecasts&&r.a.createElement(v,{weather:this.state.forecasts}),r.a.createElement("div",{className:"weather-card-wrapper"},this.state.forecasts&&this.state.forecasts.map(function(e){return r.a.createElement(p,{key:e.hours[0].dt,day:e})})))}}]),t}(n.Component)),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={weather:{},mounted:!1},a.getWeatherData=function(e,t,n){var r="ff853c451e3b2c454853556df1598d0c",o="https://api.openweathermap.org/data/2.5/forecast?";if(e&&t)o+="lat=".concat(e,"&lon=").concat(t,"&appid=").concat(r,"&units=imperial");else{var c=n.split(","),s=Object(i.a)(c,2),l=s[0],u=s[1];o+="q=".concat(l,",").concat(u,"&appid=").concat(r,"&units=imperial")}fetch(o).then(function(e){return e.json()}).then(function(e){return a.setState({weather:{location:e.city.name,country:e.city.country,forecast:e.list},gotit:!0,icon:e.list[0].weather[0].icon,groupId:e.list[0].weather[0].main})}).catch(function(e){return alert("Could not get weather for location")})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation&&!this.state.mounted&&navigator.geolocation.getCurrentPosition(function(t){var a=t.coords.latitude,n=t.coords.longitude;e.getWeatherData(a,n,null)}),this.setState({mounted:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.mounted&&r.a.createElement(y,{weather:this.state.weather,groupId:this.state.groupId,icon:this.state.icon,location:this.state.weather.location,getWeatherData:this.getWeatherData}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,2,1]]]);
//# sourceMappingURL=main.f3110f09.chunk.js.map